Site={mobileThreshold:601,init:function(){var i=this;$(window).resize(function(){i.onResize()}),i.Chairs.init(),i.About.init()},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var i=$(this).html();i=i.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(i)})},hideLoading:function(){$("#loading-screen").addClass("hide")}},Site.Chairs={tail:[],tailSize:9,listSize:86400,bufferTime:4,imgDirPath:"http://d1r8hiz683c1rx.cloudfront.net/",lastChairTime:null,stop:!1,init:function(){var i=this;i.$imagesContainer=$("#images-container"),i.currentPosition=i.getSecsToday()+i.bufferTime,i.isDev()&&(i.currentPosition=1,i.listSize=120,i.imgDirPath="/dev_chairs/"),i.initTail(),i.bind()},isDev:function(){return"#dev"===location.hash},bind:function(){var i=this;document.addEventListener("visibilitychange",i.handleVisibilityChange.bind(i),!1)},handleVisibilityChange:function(){var i=this;document.hidden?i.stop=!0:i.reinitTail()},initTail:function(){var i=this;i.loadTail(),i.appendImages(),i.triggerTimer(1e3*i.bufferTime)},reinitTail:function(){var i=this;i.stop=!1,i.currentPosition=i.getSecsToday(),i.isDev()&&(i.currentPosition=60),i.clearChairs(),i.loadTail(),i.appendImages(),i.triggerTimer(0)},loadTail:function(){for(var i=this,e=0;e<=i.tailSize;e++)i.tail[e]=e+i.currentPosition},appendImages:function(){for(var i=this,e=0;e<i.tail.length;e++)i.$imagesContainer.append(i.generateImage(i.tail[e]))},triggerTimer:function(i){var e=this;setTimeout(function(){window.requestAnimationFrame(e.nextChair.bind(e)),Site.hideLoading()},i)},nextChair:function(){var i=this,e=+new Date;null===i.lastChairTime&&(i.lastChairTime=e),i.passedASecond(e)&&(i.currentPosition+=1,i.currentPosition>i.listSize&&(i.currentPosition=1),i.shiftChair(),i.pushChair(),i.lastChairTime=e),i.stop||window.requestAnimationFrame(i.nextChair.bind(i))},passedASecond:function(i){var e=this;return i-e.lastChairTime>=1e3},shiftChair:function(){$(".image-holder").first().remove()},clearChairs:function(){$(".image-holder").remove()},pushChair:function(){var i=this,e=i.currentPosition+i.tailSize;i.imagesContainer.append(i.generateImage(e))},formatName:function(i){var e=this;return e.padNumber(i)+".jpeg"},generateImage:function(i){var e=this,t=e.formatName(i),n=document.createElement("div"),a=document.createElement("img");return n.className="image-holder grid-row justify-center align-items-center",n.id="image-"+i,a.setAttribute("src",e.imgDirPath+t),n.appendChild(a),n},getSecsToday:function(){var i=new Date;return i.getSeconds()+60*(i.getMinutes()+60*i.getHours())},padNumber:function(i){for(var e=i+"";e.length<4;)e="0"+e;return e},floorToSeconds:function(i){return 1e3*Math.floor(i/1e3)},ceilToSeconds:function(i){return 1e3*Math.ceil(i/1e3)}},Site.About={init:function(){var i=this;i.thinkOf(),i.bindClicks()},thinkOf:function(){var i=function(){var i=$(".think-of-item.show");$(".think-of-item.show").removeClass("show"),i.next(".think-of-item").length?i.next().addClass("show"):$(".think-of-item:first-of-type").addClass("show")};window.setInterval(i,2e3)},bindClicks:function(){$("#info-button").on("click",function(){$("html, body").animate({scrollTop:$(document).height()-$(window).height()})}),$(".image-holder").on("click",function(){$("html, body").animate({scrollTop:0})})}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=main.min.js.map
